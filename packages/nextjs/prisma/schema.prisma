// This is your Prisma schema file
datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

generator client {
    provider = "prisma-client-js"
}

model Game {
    id               String     @id @default(uuid())
    adminAddress     String
    status           GameStatus
    inviteCode       String
    diceCount        Int
    mode             GameMode
    hiddenPrivateKey String
    players          String[]
    kickedPlayers    String[]   @default([])
    winner           String?
    createdAt        DateTime   @default(now())
    updatedAt        DateTime   @updatedAt
}

model Invites {
    id    String   @id @default(uuid())
    codes String[]
}

model Player {
    id        String       @id @default(uuid())
    gameId    String
    address   String
    status    PlayerStatus
    diceCount Int
    mode      PlayerMode
    type      String?
    createdAt DateTime     @default(now())
    updatedAt DateTime     @updatedAt
}

enum GameStatus {
    lobby
    ongoing
    paused
    finished
}

enum GameMode {
    auto
    manual
    brute
}

enum PlayerStatus {
    ongoing
    paused
    finished
}

enum PlayerMode {
    auto
    manual
}
